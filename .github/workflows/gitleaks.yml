name: Secret Scan

on:
  pull_request:
  workflow_dispatch:

jobs:
  secret-scan:
    runs-on: ubuntu-latest
    steps:
      - name: Scan for hard-coded secrets
        id: secret-scan
        uses: vermeer-corp/sec-ci-actions/secret-scan@main
        with:
          app-id: ${{ secrets.COMPLIANCE_REPORT_APP_ID }}
          app-key: ${{ secrets.COMPLIANCE_REPORT_PRIV_KEY }}
          webhook-url: ${{ secrets.COMPLIANCE_REPORT_WEBHOOK_URL }}
